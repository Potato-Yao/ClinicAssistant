<?xml version="1.0" encoding="UTF-8"?>

<?import javafx.geometry.Insets?>
<?import javafx.scene.control.Button?>
<?import javafx.scene.control.Label?>
<?import javafx.scene.control.Menu?>
<?import javafx.scene.control.MenuBar?>
<?import javafx.scene.control.MenuItem?>
<?import javafx.scene.control.TitledPane?>
<?import javafx.scene.layout.BorderPane?>
<?import javafx.scene.layout.ColumnConstraints?>
<?import javafx.scene.layout.GridPane?>
<?import javafx.scene.layout.RowConstraints?>
<?import javafx.scene.layout.StackPane?>
<?import javafx.scene.layout.VBox?>
<?import javafx.scene.shape.Circle?>

<?import javafx.scene.control.ScrollPane?>
<BorderPane xmlns="http://javafx.com/javafx/21" xmlns:fx="http://javafx.com/fxml/1"
            fx:controller="com.potato.desktop.Controller.MainFrameController"
            minHeight="400" minWidth="900">

    <top>
        <MenuBar>
            <menus>
                <Menu text="%app.title.help">
                    <items>
                        <MenuItem mnemonicParsing="false" text="%app.title.help" fx:id="helpMenuItem"
                                  onAction="#onHelpMenuItemAction"/>
                        <MenuItem mnemonicParsing="false" text="%app.title.about" fx:id="aboutMenuItem"
                                  onAction="#onAboutMenuItemAction"/>
                        <MenuItem mnemonicParsing="false" text="%app.title.version" fx:id="versionMenuItem"
                                  onAction="#onVersionMenuItemAction"/>
                    </items>
                </Menu>
            </menus>
        </MenuBar>
    </top>

    <left>
        <VBox prefWidth="140" spacing="10">
            <padding>
                <Insets bottom="10" left="10" right="10" top="10"/>
            </padding>

            <Button fx:id="monitorBtn" onMouseClicked="#onMonitorBtnAction" text="%btn.name.monitor"/>
            <Button fx:id="toolsBtn" onMouseClicked="#onToolsBtnAction" text="%btn.name.tools"/>
            <Button fx:id="externalsBtn" onMouseClicked="#onExternalsBtnAction" text="%btn.name.externals"/>
        </VBox>
    </left>

    <center>

        <StackPane>

            <VBox fx:id="monitorView" spacing="10" visible="true">

                <padding>
                    <Insets bottom="10" left="10" right="10" top="10"/>
                </padding>
                <GridPane hgap="10" vgap="10">
                    <columnConstraints>
                        <ColumnConstraints percentWidth="33"/>
                        <ColumnConstraints percentWidth="34"/>
                        <ColumnConstraints percentWidth="33"/>
                    </columnConstraints>

                    <VBox alignment="CENTER" spacing="8" GridPane.columnIndex="0">
                        <Label style="-fx-font-weight: bold" text="%lab.name.cpuMonitor"/>
                        <StackPane>
                            <Circle radius="60"
                                    style="-fx-fill: transparent; -fx-stroke: #4CAF50; -fx-stroke-width: 6"/>
                            <Label text="%lab.name.fanPercent"/>
                        </StackPane>
                        <Label fx:id="cpuTemp" text="%lab.name.temp"/>
                        <Label fx:id="cpuPower" text="%lab.name.power"/>
                        <Label fx:id="cpuClock" text="%lab.name.clock"/>
                    </VBox>

                    <VBox spacing="6" GridPane.columnIndex="1">
                        <Label style="-fx-font-weight: bold" text="%lab.name.systemInfo"/>
                        <Label fx:id="systemName" text="%lab.name.systemName"/>
                        <Label fx:id="osVersion" text="%lab.name.osVersion"/>
                        <Label fx:id="laptopModel" text="%lab.name.laptopModel"/>
                        <Label fx:id="systemType" text="%lab.name.systemType"/>
                        <Label fx:id="activationStatus" text="%lab.name.activationStatus"/>
                    </VBox>

                    <VBox alignment="CENTER" spacing="8" GridPane.columnIndex="2">
                        <Label style="-fx-font-weight: bold" text="%lab.name.gpuMonitor"/>
                        <StackPane>
                            <Circle radius="60"
                                    style="-fx-fill: transparent; -fx-stroke: #2196F3; -fx-stroke-width: 6"/>
                            <Label text="%lab.name.fanPercent"/>
                        </StackPane>
                        <Label fx:id="gpuTemp" text="%lab.name.temp"/>
                        <Label fx:id="gpuPower" text="%lab.name.power"/>
                        <Label fx:id="gpuClock" text="%lab.name.clock"/>
                    </VBox>
                    <rowConstraints>
                        <RowConstraints/>
                    </rowConstraints>
                </GridPane>

                <GridPane hgap="20" vgap="10">
                    <columnConstraints>
                        <ColumnConstraints percentWidth="25"/>
                        <ColumnConstraints percentWidth="25"/>
                        <ColumnConstraints percentWidth="25"/>
                        <ColumnConstraints percentWidth="25"/>
                    </columnConstraints>

                    <VBox GridPane.columnIndex="0">
                        <Label text="%lab.name.memory"/>
                        <Label text="%lab.name.total" fx:id="ramTotal"/>
                        <Label text="%lab.name.used" fx:id="ramUsage"/>
                    </VBox>

                    <VBox GridPane.columnIndex="1">
                        <Label text="%lab.name.disks"/>
                        <Label text="%lab.name.diskInfo" fx:id="disksInfo"/>
                    </VBox>

                    <VBox GridPane.columnIndex="2">
                        <Label text="%lab.name.admin"/>
                        <Label text="%lab.admin.status" fx:id="adminStatus"/>
                    </VBox>

                    <VBox GridPane.columnIndex="3">
                        <Label text="%lab.name.battery"/>
                        <Label fx:id="batteryChargingStatus" text="%lab.batCharging"/>
                        <Label fx:id="batteryRemain" text="%lab.batRemain"/>
                        <Label fx:id="batteryHealth" text="%lab.batHealth"/>
                        <Label fx:id="batteryRate" text="%lab.batRate"/>
                    </VBox>
                    <rowConstraints>
                        <RowConstraints/>
                    </rowConstraints>
                </GridPane>
            </VBox>

            <VBox fx:id="toolsView" spacing="10" visible="false">
                <padding>
                    <Insets bottom="10" left="10" right="10" top="10"/>
                </padding>
                <Label style="-fx-font-size: 16; -fx-font-weight: bold" text="%lab.name.tools"/>

                <TitledPane text="%tp.name.system">
                    <VBox spacing="6">
                        <Button fx:id="activateWinBtn" onMouseClicked="#onActivateWinBtnAction"
                                text="%btn.tools.activateWindows"/>
                        <Button fx:id="enterBIOSBtn" onMouseClicked="#onEnterBIOSBtnAction"
                                text="%btn.tools.restartEnterBios"/>
                    </VBox>
                </TitledPane>

                <TitledPane text="%tp.name.disk">
                    <VBox spacing="6">
                        <Button fx:id="bitLockerBtn" onMouseClicked="#onBitLockerBtnAction"
                                text="%btn.tools.unlockBitLocker"/>
                    </VBox>
                </TitledPane>

                <TitledPane text="%tp.name.network">
                    <VBox spacing="6">
                        <Button fx:id="proxyResetBtn" onMouseClicked="#onRestProxyBtnAction"
                                text="%btn.tools.proxyReset"/>
                        <Button fx:id="code65RepairBtn" onMouseClicked="#onCode56BtnAction"
                                text="%btn.tools.code56Repair"/>
                    </VBox>
                </TitledPane>

                <TitledPane text="%tp.name.stressTest">
                    <VBox spacing="6">
                        <Button fx:id="stressTestBtn" onMouseClicked="#onStressTestBtnAction"
                                text="%btn.tools.stressTest"/>
                    </VBox>
                </TitledPane>
            </VBox>

            <ScrollPane fx:id="externalsView" fitToWidth="true" pannable="true" managed="false" hbarPolicy="NEVER"
                        visible="false">
                <content>
                    <VBox fx:id="externalsPane" spacing="10">
                        <Label style="-fx-font-size: 16; -fx-font-weight: bold" text="%lab.name.externals"/>

                        <!--                            <TitledPane text="%tp.name.externals">-->
                        <!--                                <VBox spacing="6">-->
                        <!--                                    <Button fx:id="externalTool1Btn" onMouseClicked="#onExternalTool1BtnAction"-->
                        <!--                                            text="%btn.externals.tool1"/>-->
                        <!--                                    <Button fx:id="externalTool2Btn" onMouseClicked="#onExternalTool2BtnAction"-->
                        <!--                                            text="%btn.externals.tool2"/>-->
                        <!--                                </VBox>-->
                        <!--                            </TitledPane>-->

                        <!-- add more TitledPanes here, same pattern as toolsView -->
                    </VBox>
                </content>
            </ScrollPane>
        </StackPane>
    </center>

</BorderPane>
